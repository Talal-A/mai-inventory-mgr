{% extends "base.html" %}

{% block body %}

<h4>Which subcategory would you like to delete?</h4>

<div>
  <p align="center">
      <input type="text" class="form-control" id="search" placeholder="Type to search">
  </p>
</div>

<div class="list-group" id="subCategoryList">
    {% for subcategory in subcategories %}
        <a onclick="confirmDelete('{{subcategory.id}}', '{{subcategory.name}}')" class="list-group-item list-group-item-action">{{subcategory.category_name}} > {{subcategory.name}}</a>
        <script>
          function confirmDelete(id, name) {
            if (confirm("Are you sure you want to delete '" + name + "'?")) {
              window.location.href = "/delete/subcategory/" + id
            }
          }
        </script>

    {% endfor %}
</div>

<script>
  window.onload = function() {
      $("#search").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#subCategoryList a").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  }
</script>

{% endblock %}
